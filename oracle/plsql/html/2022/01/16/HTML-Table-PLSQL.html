<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="shortcut icon" href="/static/img/favicon.ico" /><title>HTML Table Markup in Oracle - Lee Lindley Scratchpad</title><meta name="author" content="Lee Lindley" /><meta name="description" content="HTML Table Markup in Oracle" /><meta name="keywords" content="HTML Table Markup in Oracle, Lee Lindley Scratchpad, oracle, plsql, html" /><link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml"><meta content="" property="fb:app_id"><meta content="Lee Lindley Scratchpad" property="og:site_name"><meta content="HTML Table Markup in Oracle" property="og:title"><meta content="article" property="og:type"><meta content="Posts on Technical Subjects, mostly Oracle and Linux" property="og:description"><meta content="https://lee-lindley.github.io/oracle/plsql/html/2022/01/16/HTML-Table-PLSQL.html" property="og:url"><meta content="2022-01-16T10:30:00-05:00" property="article:published_time"><meta content="https://lee-lindley.github.io/about/" property="article:author"><meta content="oracle" property="article:section"><meta content="oracle" property="article:tag"><meta content="plsql" property="article:tag"><meta content="html" property="article:tag"><meta content="table" property="article:tag"><meta content="css" property="article:tag"><meta content="xlst" property="article:tag"><meta content="dbms_xmlgen" property="article:tag"><meta content="xlstype" property="article:tag"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@"><meta name="twitter:creator" content="@"><meta name="twitter:title" content="HTML Table Markup in Oracle"><meta name="twitter:url" content="https://lee-lindley.github.io/oracle/plsql/html/2022/01/16/HTML-Table-PLSQL.html"><meta name="twitter:description" content="Posts on Technical Subjects, mostly Oracle and Linux"><link href="/static/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous"><link rel="stylesheet" href="/static/css/syntax.css"><link href="/static/css/bootstrap.min.css" rel="stylesheet"><link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,300italic,300,400italic,700&amp;subset=latin,latin-ext" rel="stylesheet" type="text/css"><link rel="stylesheet" href="/static/css/super-search.css"><link rel="stylesheet" href="/static/css/thickbox.css"><link rel="stylesheet" href="/static/css/projects.css"><link rel="stylesheet" href="/static/css/main.css"><body><div class="container"><div class="col-sm-3"><div class="fixed-condition"><h1 class="author-name"><a href="/">Lee Lindley</a></h1><div class="profile-about"> I'm Just Another Perl Hacker who wound up in a big Oracle Database playground</div><div class="social"><ul><li><a href="https://linkedin.com/in/lee-lindley" target="_blank"><i class="fa fa-linkedin"></i></a><li><a href="https://github.com/lee-lindley" target="_blank"><i class="fa fa-github"></i></a></ul></div><div class="search" id="js-search"> <input type="text" placeholder="(sitemap)~$ type to search" class="search__input form-control" id="js-search__input"><ul class="search__results" id="js-search__results"></ul></div><hr /><ul class="sidebar-nav"> <strong>Navigation</strong><li><a href="/">Home</a><li><a class="about" href="/about/">About Me</a><li><a class="about" href="/projects/">My Projects</a><li><a class="about" href="/feed.xml">XML Feed</a></ul></div></div><div class="col-sm-8 col-offset-1 main-layout"><header class="post-header"><h1 class="post-title">HTML Table Markup in Oracle</h1></header><span class="time">16 Jan 2022</span> <span class="categories"> &raquo; <a href="/category/oracle">oracle</a>, <a href="/category/plsql">plsql</a>, <a href="/category/html">html</a> </span><div class="content"><div class="post"><h1 id="html-table-markup-for-oracle-query-resultset">HTML Table Markup for Oracle Query Resultset</h1><h2 id="use-case---generate-html-table-markup-inside-oracle-database">Use Case - Generate HTML Table Markup Inside Oracle Database</h2><p>Whenever a question is posted on this subject, the immediate knee-jerk reaction is to tell the hapless suppicant to use sql*plus HTML markup option. All well and good, but we do have use cases where going out to a client program from the database is not practical. One of the most common is to generate an HTML Table that is included in an email sent directly from the database.<p>There is a well established pattern to do this with <em>DBMS_XMLGEN</em> and <em>XLSTYPE</em> stylesheet processing. A web search will return plenty of examples.<p>There are a few issues with the technique, the most vexing of which is that all of the table data is left justified in the cells. If you want numbers to be right justified, the standard mechanism we reach for with TO_CHAR or LPAD(TO_CHAR to left pad the result with spaces does not work because HTML rendering ignores whitespace. We need to add a modifier to the HTML Table Data (&lt;td&gt;) tag to right-align the cells, but only for particular columns.<h2 id="css-style-sheet-solution">CSS Style Sheet Solution</h2><p>The implemented solution can be found on my github <a href="https://github.com/lee-lindley/app_html_table_pkg">app_html_table_pkg</a> repository page. If you are an HTML guru, you should skip straight to the package and skip my explanation.<p>I have of course dabbled in HTML but most of that was in pre-historic times before CSS stylesheets gained traction. I found the CSS subject overwhelming, and it was compounded by being a moving target. Much of the information you find on the web is no longer best practice.<p>We do not have control of the overall document in this case, or at least not always. We may not be able to put CSS style information in the HTML Header. Luckily for us, somewhere along the way the committee to make web page development obtuse decided we could use locally scoped styles, meaning it is legal and not just a hack to put styles directly in the HTML Body. Coolio!<p>I complain about how the rules seem obscure and a moving target, but once I finally got a handle on enough of the pieces, it turns out to be a relatively understandable and isolated bit of HTML code that will allow us to control the formatting of our table without impacting anything else in the document.<h2 id="html-components">HTML Components</h2><h3 id="div">div</h3><p>We wrap our entire construct in &lt;div id=”plsql-table”&gt;…&lt;/div&gt; to isolate it from the rest of the document.<h3 id="style">style</h3><p>Next we produce a &lt;style type=”text/css” scoped&gt; section encapsulating our style rules for the table.<p>We have directives that adjust the table border and spacing, the optional caption font and spacing, and directions for &lt;th&gt; table header and &lt;td&gt; element formatting. We can set background and foreground colors as well.<p>This is fairly standard HTML attribute processing that is familiar enough for most of us who are not CSS gurus.<h3 id="specific-columnrow-styles">specific column/row styles</h3><p>Where the solution becomes more complex is when we direct style elements to particular columns or rows. The one to solve our specific issue of right justifying particular columns is encoded as:<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nt">tr</span> <span class="o">&gt;</span> <span class="nt">td</span><span class="nd">:nth-of-type</span><span class="o">(</span><span class="err">4</span><span class="o">)</span> <span class="p">{</span> <span class="nl">text-align</span><span class="p">:</span><span class="nb">right</span><span class="p">;</span> <span class="p">}</span>
</code></pre></div></div><p>Huh. That was my first thought. I’ll read that as for any table row do this for the fourth table data element (aka column). I’m not going to try to explain the rules because I’ll butcher it, but that is what it does.<p>A related construct that lets us alternate the background color on rows is<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nt">tr</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nt">odd</span><span class="o">)</span> <span class="p">{</span> <span class="nl">background-color</span><span class="p">:</span> <span class="n">AliceBlue</span> <span class="p">}</span>
</code></pre></div></div><p>That says for table row elements, on the odd rows use this background color. You could leave the even rows with the default background or make another directive for nth-child(even).<h2 id="example">Example</h2><p>Putting it all together the package can output an HTML table configured specifically for our query with any style adjustments you desire. You don’t have to understand it all. Most of the time you can copy/paste the default style and tweak it a bit. This one is on the fancy side while the default from the package is an austere black and white.<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>	<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"plsql-table"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;style </span><span class="na">type=</span><span class="s">"text/css"</span> <span class="na">scoped</span><span class="nt">&gt;</span>
	
	<span class="nt">table</span> <span class="p">{</span>
	    <span class="nl">border</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="no">black</span><span class="p">;</span> 
	    <span class="nl">border-spacing</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span> 
	    <span class="nl">border-collapse</span><span class="p">:</span> <span class="nb">collapse</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="nt">caption</span> <span class="p">{</span>
	    <span class="nl">font-style</span><span class="p">:</span> <span class="nb">italic</span><span class="p">;</span>
	    <span class="nl">font-weight</span><span class="p">:</span> <span class="nb">bold</span><span class="p">;</span>
	    <span class="nl">font-size</span><span class="p">:</span> <span class="nb">larger</span><span class="p">;</span>
	    <span class="nl">margin-bottom</span><span class="p">:</span> <span class="m">0.5em</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="nt">th</span> <span class="p">{</span>
	    <span class="nl">text-align</span><span class="p">:</span><span class="nb">left</span><span class="p">;</span>
	    <span class="nl">background-color</span><span class="p">:</span> <span class="n">LightGrey</span>
	<span class="p">}</span>
	<span class="nt">th</span><span class="o">,</span> <span class="nt">td</span> <span class="p">{</span>
	    <span class="nl">border</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="no">black</span><span class="p">;</span> 
	    <span class="nl">padding</span><span class="p">:</span><span class="m">4px</span> <span class="m">6px</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="nt">tr</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nt">odd</span><span class="o">)</span> <span class="p">{</span> <span class="nl">background-color</span><span class="p">:</span> <span class="n">AliceBlue</span> <span class="p">}</span>
	<span class="nt">tr</span> <span class="o">&gt;</span> <span class="nt">td</span><span class="nd">:nth-of-type</span><span class="o">(</span><span class="err">1</span><span class="o">)</span> <span class="p">{</span>
	    <span class="nl">text-align</span><span class="p">:</span><span class="nb">right</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="nt">tr</span> <span class="o">&gt;</span> <span class="nt">td</span><span class="nd">:nth-of-type</span><span class="o">(</span><span class="err">4</span><span class="o">)</span> <span class="p">{</span>
	    <span class="nl">text-align</span><span class="p">:</span><span class="nb">right</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="nt">&lt;/style&gt;</span>
	<span class="nt">&lt;table&gt;</span>
	<span class="nt">&lt;caption&gt;</span>Poorly Paid People<span class="nt">&lt;/caption&gt;</span>
	<span class="nt">&lt;tr&gt;</span>
	  <span class="nt">&lt;th&gt;</span>Emp ID<span class="nt">&lt;/th&gt;</span>
	  <span class="nt">&lt;th&gt;</span>Full Name<span class="nt">&lt;/th&gt;</span>
	  <span class="nt">&lt;th&gt;</span>Date_x002C_Hire<span class="nt">&lt;/th&gt;</span>
	  <span class="nt">&lt;th&gt;</span>Salary<span class="nt">&lt;/th&gt;</span>
	<span class="nt">&lt;/tr&gt;</span>
	<span class="nt">&lt;tr&gt;</span>
	  <span class="nt">&lt;td&gt;</span>999<span class="nt">&lt;/td&gt;</span>
	  <span class="nt">&lt;td&gt;</span>  Baggins, Bilbo <span class="ni">&amp;quot;</span>badboy<span class="ni">&amp;quot;</span> <span class="nt">&lt;/td&gt;</span>
	  <span class="nt">&lt;td&gt;</span>12/31/1999<span class="nt">&lt;/td&gt;</span>
	  <span class="nt">&lt;td&gt;</span>     $123.45<span class="nt">&lt;/td&gt;</span>
	<span class="nt">&lt;/tr&gt;</span>
	<span class="nt">&lt;tr&gt;</span>
	  <span class="nt">&lt;td&gt;</span>206<span class="nt">&lt;/td&gt;</span>
	  <span class="nt">&lt;td&gt;</span>Gietz, William<span class="nt">&lt;/td&gt;</span>
	  <span class="nt">&lt;td&gt;</span>06/07/2002<span class="nt">&lt;/td&gt;</span>
	  <span class="nt">&lt;td&gt;</span>   $8,300.00<span class="nt">&lt;/td&gt;</span>
	<span class="nt">&lt;/tr&gt;</span>
	<span class="nt">&lt;tr&gt;</span>
	<span class="nt">&lt;/table&gt;&lt;/div&gt;</span>
</code></pre></div></div><p>Here is how it is rendered in my browser:<table class="img-table-centered"><thead><tr><th style="text-align: center"><em>HTML Table Markup from PL/SQL</em><tbody><tr><td style="text-align: center"><img src="/images/html_table.gif" alt="html_table.gif" /></table></div></div><div class="panel-body"><h4>Related Posts</h4><ul><li class="relatedPost"> <a href="https://lee-lindley.github.io/oracle/sql/plsql/2022/04/10/hierarchical-profiler-context-switch.html">Profiling PL/SQL to Examine Context Switch Penalty</a> (Categories: <a href="/category/oracle">oracle</a>, <a href="/category/sql">sql</a>, <a href="/category/plsql">plsql</a>)<li class="relatedPost"> <a href="https://lee-lindley.github.io/oracle/sql/plsql/2022/04/10/Regexp_instr-Beginning-of-line-anchor.html">Oracle REGEXP_INSTR and Beginning of Line Anchor</a> (Categories: <a href="/category/oracle">oracle</a>, <a href="/category/sql">sql</a>, <a href="/category/plsql">plsql</a>)<li class="relatedPost"> <a href="https://lee-lindley.github.io/oracle/sql/plsql/2022/04/02/Object-Methods-in-SQL.html">Cost of UDT Object Methods in SQL</a> (Categories: <a href="/category/oracle">oracle</a>, <a href="/category/sql">sql</a>, <a href="/category/plsql">plsql</a>)<li class="relatedPost"> <a href="https://lee-lindley.github.io/plsql/sql/oracle/2022/03/28/Devops-Oracle-Deploy.html">Devops Data Deployment for Oracle</a> (Categories: <a href="/category/plsql">plsql</a>, <a href="/category/sql">sql</a>, <a href="/category/oracle">oracle</a>)<li class="relatedPost"> <a href="https://lee-lindley.github.io/plsql/sql/2022/03/20/Ruby-Rouge-Lexer-PLSQL.html">A Ruby/Rouge Lexer Class for Oracle PL/SQL</a> (Categories: <a href="/category/plsql">plsql</a>, <a href="/category/sql">sql</a>)<li class="relatedPost"> <a href="https://lee-lindley.github.io/oracle/sql/2022/03/06/Staging_Tables_vs_With.html">Staging Tables vs Single SQL</a> (Categories: <a href="/category/oracle">oracle</a>, <a href="/category/sql">sql</a>)</ul></div><div class="PageNavigation"> <a class="prev" href="/oracle/sql/plsql/perl/2022/01/09/More-CSV-Fun.html">&laquo; More CSV Fun - Turn CSV into SQL Resultset</a> <a class="next" href="/oracle/plsql/html/2022/01/18/HTML-Table-PLSQL-Redux.html">HTML Table Markup Redux &raquo;</a></div><div class="disqus-comments"><div id="disqus_thread"></div><script type="text/javascript"> /* <![CDATA[ */ var disqus_shortname = "leelindleyscratchpad"; var disqus_identifier = "https://lee-lindley.github.io_HTML Table Markup in Oracle"; var disqus_title = "HTML Table Markup in Oracle"; /* * * DON'T EDIT BELOW THIS LINE * * */ (function() { var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true; dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js'; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq); })(); /* ]]> */ </script></div><footer> &copy; Lee Lindley - <a href="https://github.com/lee-lindley">https://github.com/lee-lindley</a> - Powered by Jekyll.<div class="btn-github" style="float:right;"> <iframe src="https://ghbtns.com/github-btn.html?user=agusmakmun&repo=agusmakmun.github.io&type=star&count=true" frameborder="0" scrolling="0" width="100" height="20px"></iframe> <iframe src="https://ghbtns.com/github-btn.html?user=agusmakmun&repo=agusmakmun.github.io&type=fork&count=true" frameborder="0" scrolling="0" width="100" height="20px"></iframe></div></footer></div></div><script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script> <script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script> <script src="/static/js/bootstrap.min.js"></script> <script src="/static/js/super-search.js"></script> <script src="/static/js/thickbox-compressed.js"></script> <script src="/static/js/projects.js"></script>
