<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="shortcut icon" href="/static/img/favicon.ico" /><title>Syntax Highlighting for PL/SQL in vim - Lee Lindley Scratchpad</title><meta name="author" content="Lee Lindley" /><meta name="description" content="Syntax Highlighting for PL/SQL in vim" /><meta name="keywords" content="Syntax Highlighting for PL/SQL in vim, Lee Lindley Scratchpad, oracle, plsql, sql, vim" /><link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml"><meta content="" property="fb:app_id"><meta content="Lee Lindley Scratchpad" property="og:site_name"><meta content="Syntax Highlighting for PL/SQL in vim" property="og:title"><meta content="article" property="og:type"><meta content="Posts on Technical Subjects, mostly Oracle and Linux" property="og:description"><meta content="https://lee-lindley.github.io/oracle/plsql/sql/vim/2022/04/29/vim-plsql-syntax.html" property="og:url"><meta content="2022-04-29T12:30:00-04:00" property="article:published_time"><meta content="https://lee-lindley.github.io/about/" property="article:author"><meta content="oracle" property="article:section"><meta content="oracle" property="article:tag"><meta content="sql" property="article:tag"><meta content="plsql" property="article:tag"><meta content="vim" property="article:tag"><meta content="syntax-highlighting" property="article:tag"><meta content="syntax" property="article:tag"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@"><meta name="twitter:creator" content="@"><meta name="twitter:title" content="Syntax Highlighting for PL/SQL in vim"><meta name="twitter:url" content="https://lee-lindley.github.io/oracle/plsql/sql/vim/2022/04/29/vim-plsql-syntax.html"><meta name="twitter:description" content="Posts on Technical Subjects, mostly Oracle and Linux"><link href="/static/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous"><link rel="stylesheet" href="/static/css/syntax.css"><link href="/static/css/bootstrap.min.css" rel="stylesheet"><link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,300italic,300,400italic,700&amp;subset=latin,latin-ext" rel="stylesheet" type="text/css"><link rel="stylesheet" href="/static/css/super-search.css"><link rel="stylesheet" href="/static/css/thickbox.css"><link rel="stylesheet" href="/static/css/projects.css"><link rel="stylesheet" href="/static/css/main.css"><body><div class="container"><div class="col-sm-3"><div class="fixed-condition"><h1 class="author-name"><a href="/">Lee Lindley</a></h1><div class="profile-about"> I'm Just Another Perl Hacker who wound up in a big Oracle Database playground</div><div class="social"><ul><li><a href="https://linkedin.com/in/lee-lindley" target="_blank"><i class="fa fa-linkedin"></i></a><li><a href="https://github.com/lee-lindley" target="_blank"><i class="fa fa-github"></i></a></ul></div><div class="search" id="js-search"> <input type="text" placeholder="(sitemap)~$ type to search" class="search__input form-control" id="js-search__input"><ul class="search__results" id="js-search__results"></ul></div><hr /><ul class="sidebar-nav"> <strong>Navigation</strong><li><a href="/">Home</a><li><a class="about" href="/about/">About Me</a><li><a class="about" href="/projects/">My Projects</a><li><a class="about" href="/feed.xml">XML Feed</a></ul></div></div><div class="col-sm-8 col-offset-1 main-layout"><header class="post-header"><h1 class="post-title">Syntax Highlighting for PL/SQL in vim</h1></header><span class="time">29 Apr 2022</span> <span class="categories"> &raquo; <a href="/category/oracle">oracle</a>, <a href="/category/plsql">plsql</a>, <a href="/category/sql">sql</a>, <a href="/category/vim">vim</a> </span><div class="content"><div class="post"><h1 id="introduction">Introduction</h1><p>In the blog post <a href="https://lee-lindley.github.io/plsql/sql/2022/03/20/Ruby-Rouge-Lexer-PLSQL.html">A Ruby/Rouge Lexer Class for Oracle PL/SQL</a> I describe how I wound up creating a PL/SQL lexer in Ruby-Rouge so that I could make the PL/SQL code blocks in my posts look good.<p>I tried to apply my color scheme to <em>vim</em> but quickly ran into trouble. The PL/SQL syntax file for <em>vim</em> had not been updated since Oracle 9i and it had flaws such as not supporting q-quote operator. It also did not have folding.<p>Previously having done work to get all of the 19c keywords straight, and familiar with what needed to be done to parse PL/SQL and SQL, I applied what I knew to the existing <em>plsql.vim</em> file.<blockquote><p>It does a good job with Oracle SQL too, not just PL/SQL. <em>sqloracle.vim</em> works differently (not better or worse), and folding support is simpler. You may be satisifed with <em>sql.vim/sqloracle.vim</em> for SQL, especially if you write SQL for multiple databases.</blockquote><h1 id="from-supplicant-to-maintainer">From Supplicant to Maintainer</h1><p>I tried to find the maintainer of the file to offer my work. Sadly, that individual’s email account is no longer recognized by the provider, and he has not updated anything online in many years.<p>I contacted the <em>vim-dev</em> mailing list asking what to do. Their suggestion was to assume ownership of the maintainer role. Balking at first, I quickly ran out of excuses I was willing to live with and agreed to do it. Once committed, I felt obligated to go at it full-bore.<p>I spent way more of my evenings trying to understand the arcane rules of both <em>vim</em> regular expressions and the API rules for <em>syntax</em>, especially <em>region</em>’s, than I care to quantify. There are limitations that made it exceedingly difficult to do folding the way I initially envisioned it.<h1 id="vim-plsql-syntax-file">Vim PL/SQL Syntax File</h1><p><a href="https://github.com/lee-lindley/vim_plsql_syntax">vim_plsql_syntax</a> repository now lives on <em>github</em>. It contains both the syntax file <em>plsql.vim</em> and the colors file <em>lee.vim</em>. The colors file is completely gratuitous. You don’t need to use it to take advantage of the updates in <em>plsql.vim</em>.<p>The repository <em>README.md</em> is extensive. It includes screenshots and an installation section.<p>At this time the <em>main</em> branch contains the version submitted to the <em>vim</em> project for inclusion in version 9 (which should be released soon for some definition of soon). You should select a more current branch, which although they are works in process, are passing my eyeball tests. Right now the branch <a href="https://github.com/lee-lindley/vim_plsql_syntax/tree/procedure_folding">procedure_folding</a> is stable with some nice new folding features. It is likely to be merged into <em>main</em> soon.<h1 id="conclusion">Conclusion</h1><p>I think I’ve done good work here, but if this is something that interests you, you will have to decide for yourself. I’m pretty happy with it. I will of course attempt to accomodate suggestions. Submitting a Pull Request is the best way to get what you want.<p>The secondary conclusion is to be careful when you report a problem. It isn’t that uncommon to be told “so fix it.” I’m apparently a really slow learner on that lesson.</div></div><div class="panel-body"><h4>Related Posts</h4><ul><li class="relatedPost"> <a href="https://lee-lindley.github.io/oracle/perl/2022/04/30/perl_dbd_oracle_clob.html">Using Perl DBD::Oracle to write LOB content</a> (Categories: <a href="/category/oracle">oracle</a>, <a href="/category/perl">perl</a>)<li class="relatedPost"> <a href="https://lee-lindley.github.io/oracle/perl/linux/2022/04/28/Perl-DBD-Oracle-RHL.html">Installing Perl DBD::Oracle on RHL</a> (Categories: <a href="/category/oracle">oracle</a>, <a href="/category/perl">perl</a>, <a href="/category/linux">linux</a>)<li class="relatedPost"> <a href="https://lee-lindley.github.io/oracle/sql/plsql/2022/04/10/hierarchical-profiler-context-switch.html">Profiling PL/SQL to Examine Context Switch Penalty</a> (Categories: <a href="/category/oracle">oracle</a>, <a href="/category/sql">sql</a>, <a href="/category/plsql">plsql</a>)<li class="relatedPost"> <a href="https://lee-lindley.github.io/oracle/sql/plsql/2022/04/10/Regexp_instr-Beginning-of-line-anchor.html">Oracle REGEXP_INSTR and Beginning of Line Anchor</a> (Categories: <a href="/category/oracle">oracle</a>, <a href="/category/sql">sql</a>, <a href="/category/plsql">plsql</a>)<li class="relatedPost"> <a href="https://lee-lindley.github.io/oracle/sql/plsql/2022/04/02/Object-Methods-in-SQL.html">Cost of UDT Object Methods in SQL</a> (Categories: <a href="/category/oracle">oracle</a>, <a href="/category/sql">sql</a>, <a href="/category/plsql">plsql</a>)<li class="relatedPost"> <a href="https://lee-lindley.github.io/plsql/sql/oracle/2022/03/28/Devops-Oracle-Deploy.html">Devops Data Deployment for Oracle</a> (Categories: <a href="/category/plsql">plsql</a>, <a href="/category/sql">sql</a>, <a href="/category/oracle">oracle</a>)</ul></div><div class="PageNavigation"> <a class="prev" href="/oracle/perl/linux/2022/04/28/Perl-DBD-Oracle-RHL.html">&laquo; Installing Perl DBD::Oracle on RHL</a> <a class="next" href="/oracle/perl/2022/04/30/perl_dbd_oracle_clob.html">Using Perl DBD::Oracle to write LOB content &raquo;</a></div><div class="disqus-comments"><div id="disqus_thread"></div><script type="text/javascript"> /* <![CDATA[ */ var disqus_shortname = "leelindleyscratchpad"; var disqus_identifier = "https://lee-lindley.github.io_Syntax Highlighting for PL/SQL in vim"; var disqus_title = "Syntax Highlighting for PL/SQL in vim"; /* * * DON'T EDIT BELOW THIS LINE * * */ (function() { var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true; dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js'; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq); })(); /* ]]> */ </script></div><footer> &copy; Lee Lindley - <a href="https://github.com/lee-lindley">https://github.com/lee-lindley</a> - Powered by Jekyll.<div class="btn-github" style="float:right;"> <iframe src="https://ghbtns.com/github-btn.html?user=agusmakmun&repo=agusmakmun.github.io&type=star&count=true" frameborder="0" scrolling="0" width="100" height="20px"></iframe> <iframe src="https://ghbtns.com/github-btn.html?user=agusmakmun&repo=agusmakmun.github.io&type=fork&count=true" frameborder="0" scrolling="0" width="100" height="20px"></iframe></div></footer></div></div><script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script> <script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script> <script src="/static/js/bootstrap.min.js"></script> <script src="/static/js/super-search.js"></script> <script src="/static/js/thickbox-compressed.js"></script> <script src="/static/js/projects.js"></script>
